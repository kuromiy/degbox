# ページネーション機能 仕様書

## 概要
動画検索画面と作者検索画面で使用する共通ページネーションコンポーネント

## コンポーネント仕様

### 表示レイアウト
```
<< < 1 ... 4 5 6 ... N > >>
```

- `<<`: 最初のページへ移動
- `<`: 前のページへ移動
- `>`: 次のページへ移動
- `>>`: 最後のページへ移動
- `N`: 最大ページ数
- 現在のページ番号を中央に表示

### ページ番号表示ルール

#### 基本構造
- 常に最初のページ番号（1）を表示
- 常に最後のページ番号（N）を表示
- 現在のページを中心に前後のページ番号を表示
- 省略部分は `...` で表示

#### 表示パターン

##### パターン1: 総ページ数が少ない場合（7ページ以下）
すべてのページ番号を表示
```
<< < 1 2 3 4 5 6 7 > >>
```

##### パターン2: 現在ページが先頭付近（1-4ページ）
```
<< < 1 2 3 4 5 ... N > >>
```

##### パターン3: 現在ページが中間
```
<< < 1 ... 4 5 6 ... N > >>
```

##### パターン4: 現在ページが末尾付近
```
<< < 1 ... N-4 N-3 N-2 N-1 N > >>
```

### インタラクション仕様

#### ボタン状態
- 最初のページ: `<<` と `<` を無効化
- 最後のページ: `>` と `>>` を無効化
- 現在のページ番号: 強調表示（クリック不可）

#### クリック動作
- `<<`: 1ページ目へ遷移
- `<`: 現在のページ - 1 へ遷移
- `>`: 現在のページ + 1 へ遷移
- `>>`: 最後のページ（N）へ遷移
- ページ番号: クリックしたページへ遷移

### Props仕様

```typescript
interface PaginationProps {
  currentPage: number;      // 現在のページ番号（1始まり）
  totalPages: number;       // 総ページ数
  baseUrl?: string;         // ページ遷移時のベースURL（デフォルト: 空文字列）
  queryParams?: Record<string, string | number>;  // ページ番号以外のクエリパラメータ
}
```

#### Props詳細

- **currentPage**: 現在表示しているページ番号（1始まり）
- **totalPages**: 総ページ数
- **baseUrl**: ページ遷移先のベースURL。指定しない場合は現在のパスを使用
- **queryParams**: URL生成時に含める検索条件などのクエリパラメータ。`page`パラメータは自動的に追加される

#### ページ遷移の仕組み

コールバック関数ではなく、URL生成による宣言的なナビゲーション方式を採用：

- 各ページリンクは `baseUrl?queryParams&page=N` 形式のURLを生成
- `navigation.context`の`Link`コンポーネントを使用してクライアントサイドルーティング
- URLパラメータの変更によりページ状態が管理される

### スタイリング要件
- レスポンシブ対応
- アクティブページの視覚的強調
- 無効化ボタンの視覚的表示
- ホバー時のフィードバック

## 適用画面
- 動画検索画面
- 作者検索画面
- その他、検索結果一覧を表示する画面

## 技術スタック
- React (Next.js)
- TypeScript
- TailwindCSS

## 実装上の注意事項
- 共通コンポーネントとして `components/` ディレクトリに配置
- 再利用可能な設計
- アクセシビリティ対応（キーボード操作、スクリーンリーダー対応）
- ページ番号の計算ロジックを明確に
