# サイドメニュー機能 仕様書

## 1. 概要

動画機能と作者機能へのナビゲーションを提供するサイドメニュー。全画面で共通表示。

## 2. メニュー構造

```
サイドメニュー
├─ 動画
│  ├─ 動画検索 (/video/search)
│  └─ 動画登録 (/video/register)
└─ 作者
   ├─ 作者検索 (/author/search)
   └─ 作者登録 (/author/register)
```

## 3. レイアウト

```
+--------+----------------------------------+
| サイド |                                  |
| メニュー|        メインコンテンツ              |
|        |                                  |
| 動画   |                                  |
| - 検索  |                                  |
| - 登録  |                                  |
|        |                                  |
| 作者   |                                  |
| - 検索  |                                  |
| - 登録  |                                  |
+--------+----------------------------------+
```

### サイズ
- デスクトップ: 240px（固定）
- モバイル: 全幅（オーバーレイ）

## 4. 実装

### 4.1 ファイル構成

```
features/shared/ui/
├─ side-menu.tsx         // サイドメニュー
├─ side-menu-item.tsx    // メニュー項目
└─ layout.tsx            // 全体レイアウト
```

### 4.2 メニュー定義

```typescript
export const menuItems = [
  {
    category: '動画',
    items: [
      { to: '/video/search', label: '動画検索' },
      { to: '/video/register', label: '動画登録' },
    ],
  },
  {
    category: '作者',
    items: [
      { to: '/author/search', label: '作者検索' },
      { to: '/author/register', label: '作者登録' },
    ],
  },
];
```

### 4.3 ルーティング統合

`src/renderer/route.tsx` を修正:

```typescript
import { Layout } from '../../features/shared/ui/layout';

export const route = createHashRouter([
  {
    element: <Layout />,
    children: [
      { path: '/video/search', element: <VideoSearchPage />, loader: videoSearchLoader },
      { path: '/video/register', element: <VideoRegisterPage />, action: videoRegisterAction },
      { path: '/video/:videoId', element: <VideoDetailPage />, loader: videoDetailLoader },
      { path: '/author/search', element: <AuthorSearchPage />, loader: authorSearchLoader },
      { path: '/author/register', element: <AuthorRegisterPage />, action: authorRegisterAction },
      { path: '/author/:authorId', element: <AuthorDetailPage />, loader: authorDetailLoader },
      { path: '/author/:authorId/edit', element: <AuthorEditPage />, loader: authorEditLoader, action: authorEditAction },
    ]
  }
]);
```

### 4.4 ナビゲーション

`useNavigation` フックを使用して環境に応じた適切なLinkコンポーネントを取得:

```typescript
import { useNavigation } from './navigation.context';

export function SideMenuItem({ to, label }: { to: string; label: string }) {
  const { Link } = useNavigation();
  const isActive = window.location.hash === `#${to}`;

  return (
    <Link to={to} className={isActive ? 'active' : ''}>
      {label}
    </Link>
  );
}
```

## 5. Server側エンドポイント（既存）

### 動画関連
- `/video/search` (GET): 動画検索画面
- `/video/register` (GET/POST): 動画登録画面
- `/video/:videoId` (GET): 動画詳細画面

### 作者関連
- `/author/search` (GET): 作者検索画面
- `/author/register` (GET/POST): 作者登録画面
- `/author/:authorId` (GET): 作者詳細画面
- `/author/:authorId/edit` (GET/POST): 作者編集画面

## 6. 必須機能

- ✅ サイドメニューコンポーネント
- ✅ Layout コンポーネント
- ✅ ルーティング統合
- ✅ 現在地のハイライト
- ✅ レスポンシブ対応

## 7. 推奨機能

- モバイル用ハンバーガーメニュー
- メニューアイコンの追加
- スムーズなアニメーション
